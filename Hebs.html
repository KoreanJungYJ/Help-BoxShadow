<!DOCTYPE html>
<html lang = "ko">
    <head>
        <title>HEBS</title>
        <meta charset="utf-8">
        <link href="https://fonts.googleapis.com/css?family=Poiret+One" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/moonspam/NanumSquare/master/nanumsquare.css">
        <link rel="shortcut icon" href="imgs/favicon.ico" type="image/x-icon">
        <link rel="icon" href="imgs/favicon.ico" type="image/x-icon">
        <link href = "Hebs.css" rel="stylesheet" type="text/css">
        <!-- jscolor library -->
        <script src = "jscolor.js"></script>
    </head>
    <body>
        <img src = "imgs/logo.png" alt = "cube" id = "logo">
        <span id = "logoText">
            Hebs
        </span>
        
        <div id = "shadowCover">
            <div class = "settings" id = "boxValues">
                <!-- 실제로 설정해주는 부분들 -->
                
                <!-- horizontal length -->
                <div class = "eachCovers">
                    <label for = "horizontal">
                        Horizontal Length
                    </label>
                    <input type = "number" id = "horizontal" min="-200" max="200" value = "0"> px 
                    
                    <input type = "range" min="-200" max="200" step ="1" value = "0" id = "horizontalVal">
                </div>
                
                <!-- vertical length -->
                <div class = "eachCovers">
                    <label for = "vertical">
                        Vertical Length
                    </label>
                    <input type = "number" id = "vertical" min="-200" max="200" value = "0"> px
                    
                    <input type = "range" min="-200" max="200" step ="1" value = "0" id = "verticalVal">
                </div>
                
                <!-- blur radius -->
                <div class = "eachCovers">
                    <label for = "blur">
                        Blur Radius
                    </label>
                    <input type = "number" id = "blur" min="0" max="200" value = "0"> px
                    
                    <input type = "range" min="0" max="200" step ="1" value = "0" id = "blurVal">
                </div>
                
                <!-- spread radius -->
                <div class = "eachCovers">
                    <label for = "spread">
                        Spread Radius
                    </label>
                    <input type = "number" id = "spread" min="-200" max="200" value = "0"> px
                    
                    <input type = "range" min="-200" max="200" step ="1" value = "0" id = "spreadVal">
                </div>
                
                <!-- Shadow Color -->
                <div class = "eachCovers">
                    <label for = "shadow"> <!-- 딱히 의미 없음 -->
                        Shadow Color
                    </label>
                    <input class = "jscolor" value = "292929" id = "shadowVal">
                </div>
                
                <!-- Background Color -->
                <div class = "eachCovers">
                    <label for = "background"> <!-- 딱히 의미 없음 -->
                        Background Color
                    </label>
                    <input class = "jscolor" value = "F5F5F5" id = "backgroundVal">
                </div>
                
                <!-- Box Color -->
                <div class = "eachCovers">
                    <label for = "box"> <!-- 딱히 의미 없음 -->
                        Box Color
                    </label>
                    <input class = "jscolor" value = "4F4C45" id = "boxVal">
                </div>
                
                <!-- Box-Width -->
                <div class = "eachCovers">
                    <label for = "width">
                        Box Width
                    </label>
                    <input type = "number" id = "width" min="50" max="550" step = "0.1" value = "440"> px
                    
                    <input type = "range" min="200" max="650" step ="1" value = "440" id = "widthVal">
                </div>

                <!-- Box-Height -->
                <div class = "eachCovers">
                    <label for = "height">
                        Box Height
                    </label>
                    <input type = "number" id = "width" min="50" max="550" step = "0.1" value = "440"> px
                    
                    <input type = "range" min="150" max="500" step ="1" value = "440" id = "heightVal">
                </div>
                
                <!-- Outline/Inset Toggle -->
                <div class = "eachCovers">
                    <label for = "toggle">
                        Outline / Inset
                    </label>
                    <label class = "switch">
                        <input type = "checkbox">
                        <span class = "sliderRound"></span>
                    </label>
                </div>

                <!-- 변환 버튼 -->
                <div class = "eachCovers">
                <div id = "changeBtn">
                    <div id = "changeBtnText">
                        Convert!
                    </div>
                </div>
            </div>
            </div>

            <div class = "settings" id = "boxResult">
                <div id = "defaultBox">
                    <div id = "valueCover">
                        <span class = "browsers">
                            -webkit-box-shadow: 
                            <span class = "codeResults">
                                <!-- innerHTML로 value 넣어주기 -->
                            </span>
                        </span>
                        <span class = "browsers">
                            -moz-box-shadow:
                            <span class = "codeResults">
                                <!-- innerHTML로 value 넣어주기 -->
                            </span>
                        </span>
                        <span class = "browsers">
                            box-shadow: 
                            <span class = "codeResults">
                                <!-- innerHTML로 value 넣어주기 -->
                            </span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        
        <script type = "text/javascript">
            //input 값들 설정 및 box-shadow 적용
            /*
                순서대로
                1. horizontal length
                2. vertical length
                3. blur radius
                4. spread radius
                5. outline / inset
            */

            //기본 변수 선언
            let inputRange = document.querySelectorAll('input[type=range]');
            let inputNum = document.querySelectorAll('input[type=number]');
            let backColor = document.getElementsByClassName('jscolor');
            //box-shadow outline / inset 설정 변수
            let shadowLine = document.querySelector('input[type=checkbox]');
            //box-shadow가 적용될 박스
            const resultBox = document.getElementById('defaultBox');
            //실제 코드 적용 버튼 및 span
            const changeBtn = document.getElementById('changeBtn');
            const codeResults = document.getElementsByClassName('codeResults');

/*--------------------------------------------------------------------------------------------*/

            //공통 적용 box-shadow
            function commonShadow(){
                let commonVal = ` ${inputRange[0].value + "px"}` 
                    commonVal += ` ${inputRange[1].value + "px"}` 
                    commonVal += ` ${inputRange[2].value + "px"}` 
                    commonVal += ` ${inputRange[3].value + "px"}` 
                    commonVal += ` ${"#" + backColor[0].value}` 
                    commonVal += ` ${shadowLine.value}`;
                
                return commonVal;
            }

            Array.from(inputRange).forEach((elem, index) => {
                elem.oninput = (e) => {
                    inputNum[index].value = e.target.value;
                    settings();
                }
                inputNum[index].oninput = (e) => {
                    elem.value = e.target.value;
                    settings();
                }
                
            });

            //outline / inset 설정
            shadowLine.onclick = (e) => {
                settings();
            }

            function settings(){

                //box-shadow 설정
                function setShadow(){
                    shadowLine.value = shadowLine.checked ? 'inset' : ' ';

                    resultBox.style.boxShadow = `
                            ${inputRange[0].value + "px"}
                            ${inputRange[1].value + "px"}
                            ${inputRange[2].value + "px"}
                            ${inputRange[3].value + "px"}
                            ${shadowLine.value}
                        `;
                }

                //width, height 설정 - 단순 편리성(코드 적용 x)
                function setSize(){
                    resultBox.style.width = inputRange[4].value + "px";
                    resultBox.style.height = inputRange[5].value + "px";
                }
                setShadow();
                setSize();
            }

            //박스 배경화면 설정
            Array.from(backColor).forEach((elem, index) => {
                if(index == 0 || index == 2){
                    checkBackColor(elem, resultBox, index);
                }
                else{
                    let boxBack = document.getElementById('boxResult');
                    checkBackColor(elem, boxBack, index);
                }
            });

            //색 변경 공통
            function checkBackColor(elem, val, index){
                elem.onchange = (e) => {
                    if(index != 0){
                        val.style.backgroundColor = "#" + e.target.value;
                    }else{
                        val.style.color = "#" + e.target.value;
                    }
                }
            }

/*--------------------------------------------------------------------------------------------*/

            changeBtn.onclick = () => {
                Array.from(codeResults).forEach((elem, index) => {
                    elem.innerText = commonShadow();
                });
            }
        </script>
    </body>
</html>